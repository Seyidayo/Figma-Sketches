<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./images/favicon-32x32.png"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Inter:400,800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Frontend Mentor | Coding Bootcamp Testimonials Slider</title>
  </head>
  <body>
    <main class="page-wrap">
      <article class="slide-frame container">
        <div class="user__frame">
          <img
            class="user__image animate"
            name="user__image"
            src=""
            alt=""
            width="100%"
            height="100%"
          />
          <div class="slide-frame__button">
            <button id="prevButton">
              <img
                src="./images/icon-prev.svg"
                alt=""
                width="100%"
                height="auto"
              />
            </button>
            <button id="nextButton">
              <img
                src="./images/icon-next.svg"
                alt=""
                width="100%"
                height="auto"
              />
            </button>
          </div>
        </div>
        <div class="user__testimony">
          <p class="user__testimony__content animate"></p>
          <p class="user__testimony__name">
            <b class="user__name animate"></b
            ><span class="user__role animate"></span>
          </p>
        </div>
      </article>
    </main>

    <script type="text/javascript">
      let data = [
          {
            testimony: `I’ve been interested in coding for a while but never taken the jump, until now. I couldn’t recommend this course enough. I’m now in the job of my dreams and so
      				excited about the future.`,
            user: {
              image: `./images/image-tanya.jpg`,
              name: `Tanya Sinclair`,
              role: `UX Engineer`,
            },
          },
          {
            testimony: `If you want to lay the best foundation possible I’d recommend taking this course.
      The depth the instructors go into is incredible. I now feel so confident about
      starting up as a professional developer.`,
            user: {
              image: `./images/image-john.jpg`,
              name: `John Tarkpor`,
              role: `Junior Front-end Developer`,
            },
          },
        ],
        time = 7000,
        i = 0;

      let userPicture = document.querySelector("img");
      let userTestimony = document.querySelector(".user__testimony__content");
      let userName = document.querySelector(".user__name");
      let userRole = document.querySelector(".user__role");
      let animationContainers = document.querySelectorAll(".animate");
      //   document.querySelector('pre')

      const changeImage = (event) => {
        // event.stopPropagation();
        animationContainers.forEach((container) =>
          container.classList.add("animate-slide")
        );
        userPicture.src = data[i].user.image;
        userTestimony.innerHTML = `" ${data[i].testimony} "`;
        userName.innerHTML = data[i].user.name;
        userRole.innerHTML = data[i].user.role;

        if (i < data.length - 1) {
          i++;
        } else {
          i = 0;
        }

        // setTimeout(
        //   animationContainers.forEach((container) => container.classList.remove("animate-slide")),

        //   time
        // );
      };

      window.onload = changeImage;
      document.querySelectorAll("button").forEach((button) => {
        button.addEventListener("click", changeImage);
      });
    </script>
  </body>
</html>
